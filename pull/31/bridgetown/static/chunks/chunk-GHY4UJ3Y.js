import{g as u}from"/light-pen/pull/31/bridgetown/static/chunks/chunk-QASAZ4NJ.js";function*c(t=document.activeElement){t!=null&&(yield t,"shadowRoot"in t&&t.shadowRoot&&t.shadowRoot.mode!=="closed"&&(yield*u(c(t.shadowRoot.activeElement))))}function w(){return[...c()].pop()}var d=new WeakMap;function f(t){let e=d.get(t);return e||(e=window.getComputedStyle(t,null),d.set(t,e)),e}function b(t){if(typeof t.checkVisibility=="function")return t.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});let e=f(t);return e.visibility!=="hidden"&&e.display!=="none"}function l(t){let e=f(t),{overflowY:n,overflowX:o}=e;return n==="scroll"||o==="scroll"?!0:n!=="auto"||o!=="auto"?!1:t.scrollHeight>t.clientHeight&&n==="auto"||t.scrollWidth>t.clientWidth&&o==="auto"}function h(t){let e=t.tagName.toLowerCase(),n=Number(t.getAttribute("tabindex"));if(t.hasAttribute("tabindex")&&(isNaN(n)||n<=-1)||t.hasAttribute("disabled")||t.closest("[inert]"))return!1;if(e==="input"&&t.getAttribute("type")==="radio"){let r=t.getRootNode(),a=`input[type='radio'][name="${t.getAttribute("name")}"]`,s=r.querySelector(`${a}:checked`);return s?s===t:r.querySelector(a)===t}return b(t)?(e==="audio"||e==="video")&&t.hasAttribute("controls")||t.hasAttribute("tabindex")||t.hasAttribute("contenteditable")&&t.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(e)?!0:l(t):!1}function v(t){var e,n;let o=m(t),i=(e=o[0])!=null?e:null,r=(n=o[o.length-1])!=null?n:null;return{start:i,end:r}}function g(t,e){var n;return((n=t.getRootNode({composed:!0}))==null?void 0:n.host)!==e}function m(t){let e=new WeakMap,n=[];function o(i){if(i instanceof Element){if(i.hasAttribute("inert")||i.closest("[inert]")||e.has(i))return;e.set(i,!0),!n.includes(i)&&h(i)&&n.push(i),i instanceof HTMLSlotElement&&g(i,t)&&i.assignedElements({flatten:!0}).forEach(r=>{o(r)}),i.shadowRoot!==null&&i.shadowRoot.mode==="open"&&o(i.shadowRoot)}for(let r of i.children)o(r)}return o(t),n.sort((i,r)=>{let a=Number(i.getAttribute("tabindex"))||0;return(Number(r.getAttribute("tabindex"))||0)-a})}export{c as a,w as b,v as c,m as d};
//# sourceMappingURL=/light-pen/pull/31/bridgetown/static/chunks/chunk-GHY4UJ3Y.js.map
