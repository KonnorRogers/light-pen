import{a as Wt,b as Vt}from"/light-pen/pull/11/bridgetown/static/chunks/chunk-FAMVI5XW.js";import{a as vt,b as bt,c as xt,d as Et,e as Pt}from"/light-pen/pull/11/bridgetown/static/chunks/chunk-3QREPQHG.js";import{a as Nt}from"/light-pen/pull/11/bridgetown/static/chunks/chunk-H76XZ3MF.js";import{a as Ht}from"/light-pen/pull/11/bridgetown/static/chunks/chunk-PJPHQFAQ.js";import{a as at,b as lt}from"/light-pen/pull/11/bridgetown/static/chunks/chunk-UZN4NFXD.js";import{a as Ft,b as Mt,c as y}from"/light-pen/pull/11/bridgetown/static/chunks/chunk-6Z4YKGI6.js";import{d as ct}from"/light-pen/pull/11/bridgetown/static/chunks/chunk-HY6IZDZ5.js";import{b as v,d as j}from"/light-pen/pull/11/bridgetown/static/chunks/chunk-H5YNUFDE.js";import{a as st,c as et}from"/light-pen/pull/11/bridgetown/static/chunks/chunk-OBAK3DE7.js";import"/light-pen/pull/11/bridgetown/static/chunks/chunk-7E3JQZZ3.js";var It=st`
  ${at}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`;var Kt=st`
  ${at}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45ยบ. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }
`;function Y(t){return t.split("-")[1]}function At(t){return t==="y"?"height":"width"}function I(t){return t.split("-")[0]}function G(t){return["top","bottom"].includes(I(t))?"x":"y"}function Ut(t,e,o){let{reference:n,floating:i}=t,r=n.x+n.width/2-i.width/2,a=n.y+n.height/2-i.height/2,l=G(e),s=At(l),p=n[s]/2-i[s]/2,d=l==="x",f;switch(I(e)){case"top":f={x:r,y:n.y-i.height};break;case"bottom":f={x:r,y:n.y+n.height};break;case"right":f={x:n.x+n.width,y:a};break;case"left":f={x:n.x-i.width,y:a};break;default:f={x:n.x,y:n.y}}switch(Y(e)){case"start":f[l]-=p*(o&&d?-1:1);break;case"end":f[l]+=p*(o&&d?-1:1)}return f}var jt=async(t,e,o)=>{let{placement:n="bottom",strategy:i="absolute",middleware:r=[],platform:a}=o,l=r.filter(Boolean),s=await(a.isRTL==null?void 0:a.isRTL(e)),p=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=Ut(p,n,s),u=n,h={},c=0;for(let m=0;m<l.length;m++){let{name:g,fn:w}=l[m],{x,y:b,data:A,reset:k}=await w({x:d,y:f,initialPlacement:n,placement:u,strategy:i,middlewareData:h,rects:p,platform:a,elements:{reference:t,floating:e}});d=x??d,f=b??f,h={...h,[g]:{...h[g],...A}},k&&c<=50&&(c++,typeof k=="object"&&(k.placement&&(u=k.placement),k.rects&&(p=k.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:f}=Ut(p,u,s)),m=-1)}return{x:d,y:f,placement:u,strategy:i,middlewareData:h}};function J(t,e){return typeof t=="function"?t(e):t}function qt(t){return typeof t!="number"?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(t):{top:t,right:t,bottom:t,left:t}}function ot(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}async function ft(t,e){var o;e===void 0&&(e={});let{x:n,y:i,platform:r,rects:a,elements:l,strategy:s}=t,{boundary:p="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:u=!1,padding:h=0}=J(e,t),c=qt(h),m=l[u?f==="floating"?"reference":"floating":f],g=ot(await r.getClippingRect({element:(o=await(r.isElement==null?void 0:r.isElement(m)))==null||o?m:m.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:p,rootBoundary:d,strategy:s})),w=f==="floating"?{...a.floating,x:n,y:i}:a.reference,x=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),b=await(r.isElement==null?void 0:r.isElement(x))&&await(r.getScale==null?void 0:r.getScale(x))||{x:1,y:1},A=ot(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:w,offsetParent:x,strategy:s}):w);return{top:(g.top-A.top+c.top)/b.y,bottom:(A.bottom-g.bottom+c.bottom)/b.y,left:(g.left-A.left+c.left)/b.x,right:(A.right-g.right+c.right)/b.x}}var nt=Math.min,q=Math.max;function Tt(t,e,o){return q(t,nt(e,o))}var Rt=t=>({name:"arrow",options:t,async fn(e){let{x:o,y:n,placement:i,rects:r,platform:a,elements:l}=e,{element:s,padding:p=0}=J(t,e)||{};if(s==null)return{};let d=qt(p),f={x:o,y:n},u=G(i),h=At(u),c=await a.getDimensions(s),m=u==="y",g=m?"top":"left",w=m?"bottom":"right",x=m?"clientHeight":"clientWidth",b=r.reference[h]+r.reference[u]-f[u]-r.floating[h],A=f[u]-r.reference[u],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s)),P=k?k[x]:0;P&&await(a.isElement==null?void 0:a.isElement(k))||(P=l.floating[x]||r.floating[h]);let D=b/2-A/2,_=P/2-c[h]/2-1,$=nt(d[g],_),V=nt(d[w],_),T=$,L=P-c[h]-V,R=P/2-c[h]/2+D,C=Tt(T,R,L),S=Y(i)!=null&&R!=C&&r.reference[h]/2-(R<T?$:V)-c[h]/2<0?R<T?T-R:L-R:0;return{[u]:f[u]-S,data:{[u]:C,centerOffset:R-C+S}}}}),ce=["top","right","bottom","left"],Te=ce.reduce((t,e)=>t.concat(e,e+"-start",e+"-end"),[]),pe={left:"right",right:"left",bottom:"top",top:"bottom"};function pt(t){return t.replace(/left|right|bottom|top/g,e=>pe[e])}function fe(t,e,o){o===void 0&&(o=!1);let n=Y(t),i=G(t),r=At(i),a=i==="x"?n===(o?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=pt(a)),{main:a,cross:pt(a)}}var he={start:"end",end:"start"};function kt(t){return t.replace(/start|end/g,e=>he[e])}var zt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var o;let{placement:n,middlewareData:i,rects:r,initialPlacement:a,platform:l,elements:s}=e,{mainAxis:p=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:c=!0,...m}=J(t,e),g=I(n),w=I(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(s.floating)),b=f||(w||!c?[pt(a)]:function(T){let L=pt(T);return[kt(T),L,kt(L)]}(a));f||h==="none"||b.push(...function(T,L,R,C){let S=Y(T),O=function(H,wt,se){let Bt=["left","right"],$t=["right","left"],ae=["top","bottom"],le=["bottom","top"];switch(H){case"top":case"bottom":return se?wt?$t:Bt:wt?Bt:$t;case"left":case"right":return wt?ae:le;default:return[]}}(I(T),R==="start",C);return S&&(O=O.map(H=>H+"-"+S),L&&(O=O.concat(O.map(kt)))),O}(a,c,h,x));let A=[a,...b],k=await ft(e,m),P=[],D=((o=i.flip)==null?void 0:o.overflows)||[];if(p&&P.push(k[g]),d){let{main:T,cross:L}=fe(n,r,x);P.push(k[T],k[L])}if(D=[...D,{placement:n,overflows:P}],!P.every(T=>T<=0)){var _,$;let T=(((_=i.flip)==null?void 0:_.index)||0)+1,L=A[T];if(L)return{data:{index:T,overflows:D},reset:{placement:L}};let R=($=D.filter(C=>C.overflows[0]<=0).sort((C,S)=>C.overflows[1]-S.overflows[1])[0])==null?void 0:$.placement;if(!R)switch(u){case"bestFit":{var V;let C=(V=D.map(S=>[S.placement,S.overflows.filter(O=>O>0).reduce((O,H)=>O+H,0)]).sort((S,O)=>S[1]-O[1])[0])==null?void 0:V[0];C&&(R=C);break}case"initialPlacement":R=a}if(n!==R)return{reset:{placement:R}}}return{}}}};var Lt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){let{x:o,y:n}=e,i=await async function(r,a){let{placement:l,platform:s,elements:p}=r,d=await(s.isRTL==null?void 0:s.isRTL(p.floating)),f=I(l),u=Y(l),h=G(l)==="x",c=["left","top"].includes(f)?-1:1,m=d&&h?-1:1,g=J(a,r),{mainAxis:w,crossAxis:x,alignmentAxis:b}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...g};return u&&typeof b=="number"&&(x=u==="end"?-1*b:b),h?{x:x*m,y:w*c}:{x:w*c,y:x*m}}(e,t);return{x:o+i.x,y:n+i.y,data:i}}}};function de(t){return t==="x"?"y":"x"}var Ct=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){let{x:o,y:n,placement:i}=e,{mainAxis:r=!0,crossAxis:a=!1,limiter:l={fn:g=>{let{x:w,y:x}=g;return{x:w,y:x}}},...s}=J(t,e),p={x:o,y:n},d=await ft(e,s),f=G(I(i)),u=de(f),h=p[f],c=p[u];if(r){let g=f==="y"?"bottom":"right";h=Tt(h+d[f==="y"?"top":"left"],h,h-d[g])}if(a){let g=u==="y"?"bottom":"right";c=Tt(c+d[u==="y"?"top":"left"],c,c-d[g])}let m=l.fn({...e,[f]:h,[u]:c});return{...m,data:{x:m.x-o,y:m.y-n}}}}};var ht=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){let{placement:o,rects:n,platform:i,elements:r}=e,{apply:a=()=>{},...l}=J(t,e),s=await ft(e,l),p=I(o),d=Y(o),f=G(o)==="x",{width:u,height:h}=n.floating,c,m;p==="top"||p==="bottom"?(c=p,m=d===(await(i.isRTL==null?void 0:i.isRTL(r.floating))?"start":"end")?"left":"right"):(m=p,c=d==="end"?"top":"bottom");let g=h-s[c],w=u-s[m],x=!e.middlewareData.shift,b=g,A=w;if(f){let P=u-s.left-s.right;A=d||x?nt(w,P):P}else{let P=h-s.top-s.bottom;b=d||x?nt(g,P):P}if(x&&!d){let P=q(s.left,0),D=q(s.right,0),_=q(s.top,0),$=q(s.bottom,0);f?A=u-2*(P!==0||D!==0?P+D:q(s.left,s.right)):b=h-2*(_!==0||$!==0?_+$:q(s.top,s.bottom))}await a({...e,availableWidth:A,availableHeight:b});let k=await i.getDimensions(r.floating);return u!==k.width||h!==k.height?{reset:{rects:!0}}:{}}}};function B(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function M(t){return B(t).getComputedStyle(t)}function Qt(t){return t instanceof B(t).Node}function K(t){return Qt(t)?(t.nodeName||"").toLowerCase():"#document"}function F(t){return t instanceof B(t).HTMLElement}function Xt(t){return typeof ShadowRoot<"u"&&(t instanceof B(t).ShadowRoot||t instanceof ShadowRoot)}function it(t){let{overflow:e,overflowX:o,overflowY:n,display:i}=M(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function ue(t){return["table","td","th"].includes(K(t))}function St(t){let e=Dt(),o=M(t);return o.transform!=="none"||o.perspective!=="none"||!!o.containerType&&o.containerType!=="normal"||!e&&!!o.backdropFilter&&o.backdropFilter!=="none"||!e&&!!o.filter&&o.filter!=="none"||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function Dt(){return!(typeof CSS>"u"||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function gt(t){return["html","body","#document"].includes(K(t))}var Ot=Math.min,Q=Math.max,ut=Math.round,dt=Math.floor,U=t=>({x:t,y:t});function Zt(t){let e=M(t),o=parseFloat(e.width)||0,n=parseFloat(e.height)||0,i=F(t),r=i?t.offsetWidth:o,a=i?t.offsetHeight:n,l=ut(o)!==r||ut(n)!==a;return l&&(o=r,n=a),{width:o,height:n,$:l}}function N(t){return t instanceof B(t).Element}function _t(t){return N(t)?t:t.contextElement}function Z(t){let e=_t(t);if(!F(e))return U(1);let o=e.getBoundingClientRect(),{width:n,height:i,$:r}=Zt(e),a=(r?ut(o.width):o.width)/n,l=(r?ut(o.height):o.height)/i;return a&&Number.isFinite(a)||(a=1),l&&Number.isFinite(l)||(l=1),{x:a,y:l}}var me=U(0);function te(t){let e=B(t);return Dt()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:me}function X(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);let i=t.getBoundingClientRect(),r=_t(t),a=U(1);e&&(n?N(n)&&(a=Z(n)):a=Z(t));let l=function(u,h,c){return h===void 0&&(h=!1),!(!c||h&&c!==B(u))&&h}(r,o,n)?te(r):U(0),s=(i.left+l.x)/a.x,p=(i.top+l.y)/a.y,d=i.width/a.x,f=i.height/a.y;if(r){let u=B(r),h=n&&N(n)?B(n):n,c=u.frameElement;for(;c&&n&&h!==u;){let m=Z(c),g=c.getBoundingClientRect(),w=getComputedStyle(c),x=g.left+(c.clientLeft+parseFloat(w.paddingLeft))*m.x,b=g.top+(c.clientTop+parseFloat(w.paddingTop))*m.y;s*=m.x,p*=m.y,d*=m.x,f*=m.y,s+=x,p+=b,c=B(c).frameElement}}return ot({width:d,height:f,x:s,y:p})}function yt(t){return N(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function W(t){return((Qt(t)?t.ownerDocument:t.document)||window.document).documentElement}function ee(t){return X(W(t)).left+yt(t).scrollLeft}function tt(t){if(K(t)==="html")return t;let e=t.assignedSlot||t.parentNode||Xt(t)&&t.host||W(t);return Xt(e)?e.host:e}function oe(t){let e=tt(t);return gt(e)?t.ownerDocument?t.ownerDocument.body:t.body:F(e)&&it(e)?e:oe(e)}function mt(t,e){var o;e===void 0&&(e=[]);let n=oe(t),i=n===((o=t.ownerDocument)==null?void 0:o.body),r=B(n);return i?e.concat(r,r.visualViewport||[],it(n)?n:[]):e.concat(n,mt(n))}function Yt(t,e,o){let n;if(e==="viewport")n=function(i,r){let a=B(i),l=W(i),s=a.visualViewport,p=l.clientWidth,d=l.clientHeight,f=0,u=0;if(s){p=s.width,d=s.height;let h=Dt();(!h||h&&r==="fixed")&&(f=s.offsetLeft,u=s.offsetTop)}return{width:p,height:d,x:f,y:u}}(t,o);else if(e==="document")n=function(i){let r=W(i),a=yt(i),l=i.ownerDocument.body,s=Q(r.scrollWidth,r.clientWidth,l.scrollWidth,l.clientWidth),p=Q(r.scrollHeight,r.clientHeight,l.scrollHeight,l.clientHeight),d=-a.scrollLeft+ee(i),f=-a.scrollTop;return M(l).direction==="rtl"&&(d+=Q(r.clientWidth,l.clientWidth)-s),{width:s,height:p,x:d,y:f}}(W(t));else if(N(e))n=function(i,r){let a=X(i,!0,r==="fixed"),l=a.top+i.clientTop,s=a.left+i.clientLeft,p=F(i)?Z(i):U(1);return{width:i.clientWidth*p.x,height:i.clientHeight*p.y,x:s*p.x,y:l*p.y}}(e,o);else{let i=te(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return ot(n)}function ne(t,e){let o=tt(t);return!(o===e||!N(o)||gt(o))&&(M(o).position==="fixed"||ne(o,e))}function ge(t,e,o){let n=F(e),i=W(e),r=o==="fixed",a=X(t,!0,r,e),l={scrollLeft:0,scrollTop:0},s=U(0);if(n||!n&&!r)if((K(e)!=="body"||it(i))&&(l=yt(e)),F(e)){let p=X(e,!0,r,e);s.x=p.x+e.clientLeft,s.y=p.y+e.clientTop}else i&&(s.x=ee(i));return{x:a.left+l.scrollLeft-s.x,y:a.top+l.scrollTop-s.y,width:a.width,height:a.height}}function Gt(t,e){return F(t)&&M(t).position!=="fixed"?e?e(t):t.offsetParent:null}function Jt(t,e){let o=B(t);if(!F(t))return o;let n=Gt(t,e);for(;n&&ue(n)&&M(n).position==="static";)n=Gt(n,e);return n&&(K(n)==="html"||K(n)==="body"&&M(n).position==="static"&&!St(n))?o:n||function(i){let r=tt(i);for(;F(r)&&!gt(r);){if(St(r))return r;r=tt(r)}return null}(t)||o}var rt={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:n}=t,i=F(o),r=W(o);if(o===r)return e;let a={scrollLeft:0,scrollTop:0},l=U(1),s=U(0);if((i||!i&&n!=="fixed")&&((K(o)!=="body"||it(r))&&(a=yt(o)),F(o))){let p=X(o);l=Z(o),s.x=p.x+o.clientLeft,s.y=p.y+o.clientTop}return{width:e.width*l.x,height:e.height*l.y,x:e.x*l.x-a.scrollLeft*l.x+s.x,y:e.y*l.y-a.scrollTop*l.y+s.y}},getDocumentElement:W,getClippingRect:function(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t,r=[...o==="clippingAncestors"?function(s,p){let d=p.get(s);if(d)return d;let f=mt(s).filter(m=>N(m)&&K(m)!=="body"),u=null,h=M(s).position==="fixed",c=h?tt(s):s;for(;N(c)&&!gt(c);){let m=M(c),g=St(c);g||m.position!=="fixed"||(u=null),(h?!g&&!u:!g&&m.position==="static"&&u&&["absolute","fixed"].includes(u.position)||it(c)&&!g&&ne(s,c))?f=f.filter(w=>w!==c):u=m,c=tt(c)}return p.set(s,f),f}(e,this._c):[].concat(o),n],a=r[0],l=r.reduce((s,p)=>{let d=Yt(e,p,i);return s.top=Q(d.top,s.top),s.right=Ot(d.right,s.right),s.bottom=Ot(d.bottom,s.bottom),s.left=Q(d.left,s.left),s},Yt(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:Jt,getElementRects:async function(t){let{reference:e,floating:o,strategy:n}=t,i=this.getOffsetParent||Jt,r=this.getDimensions;return{reference:ge(e,await i(o),n),floating:{x:0,y:0,...await r(o)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return Zt(t)},getScale:Z,isElement:N,isRTL:function(t){return getComputedStyle(t).direction==="rtl"}};function ie(t,e,o,n){n===void 0&&(n={});let{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,p=_t(t),d=i||r?[...p?mt(p):[],...mt(e)]:[];d.forEach(g=>{i&&g.addEventListener("scroll",o,{passive:!0}),r&&g.addEventListener("resize",o)});let f=p&&l?function(g,w){let x,b=null,A=W(g);function k(){clearTimeout(x),b&&b.disconnect(),b=null}return function P(D,_){D===void 0&&(D=!1),_===void 0&&(_=1),k();let{left:$,top:V,width:T,height:L}=g.getBoundingClientRect();if(D||w(),!T||!L)return;let R={rootMargin:-dt(V)+"px "+-dt(A.clientWidth-($+T))+"px "+-dt(A.clientHeight-(V+L))+"px "+-dt($)+"px",threshold:Q(0,Ot(1,_))||1},C=!0;function S(O){let H=O[0].intersectionRatio;if(H!==_){if(!C)return P();H?P(!1,H):x=setTimeout(()=>{P(!1,1e-7)},100)}C=!1}try{b=new IntersectionObserver(S,{...R,root:A.ownerDocument})}catch{b=new IntersectionObserver(S,R)}b.observe(g)}(!0),k}(p,o):null,u,h=-1,c=null;a&&(c=new ResizeObserver(g=>{let[w]=g;w&&w.target===p&&c&&(c.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{c&&c.observe(e)})),o()}),p&&!s&&c.observe(p),c.observe(e));let m=s?X(t):null;return s&&function g(){let w=X(t);!m||w.x===m.x&&w.y===m.y&&w.width===m.width&&w.height===m.height||o(),m=w,u=requestAnimationFrame(g)}(),o(),()=>{d.forEach(g=>{i&&g.removeEventListener("scroll",o),r&&g.removeEventListener("resize",o)}),f&&f(),c&&c.disconnect(),c=null,s&&cancelAnimationFrame(u)}}var re=(t,e,o)=>{let n=new Map,i={platform:rt,...o},r={...i.platform,_c:n};return jt(t,e,{...i,platform:r})};function ye(t){return t!==null&&typeof t=="object"&&"getBoundingClientRect"in t}var E=class extends lt{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){this.stop()}async updated(t){super.updated(t),t.has("active")&&(this.active?this.start():this.stop()),t.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){let t=this.getRootNode();this.anchorEl=t.getElementById(this.anchor)}else this.anchor instanceof Element||ye(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');if(this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),!this.anchorEl)throw new Error("Invalid anchor element: no anchor could be found using the anchor slot or the anchor attribute.");this.start()}start(){this.anchorEl&&(this.cleanup=ie(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(t=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>t())):t()})}reposition(){if(!this.active||!this.anchorEl)return;let t=[Lt({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?t.push(ht({apply:({rects:o})=>{let n=this.sync==="width"||this.sync==="both",i=this.sync==="height"||this.sync==="both";this.popup.style.width=n?`${o.reference.width}px`:"",this.popup.style.height=i?`${o.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&t.push(zt({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&t.push(Ct({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?t.push(ht({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:o,availableHeight:n})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${n}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${o}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&t.push(Rt({element:this.arrowEl,padding:this.arrowPadding}));let e=this.strategy==="absolute"?o=>rt.getOffsetParent(o,Wt):rt.getOffsetParent;re(this.anchorEl,this.popup,{placement:this.placement,middleware:t,strategy:this.strategy,platform:Mt(Ft({},rt),{getOffsetParent:e})}).then(({x:o,y:n,middlewareData:i,placement:r})=>{let a=getComputedStyle(this).direction==="rtl",l={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]];if(this.setAttribute("data-current-placement",r),Object.assign(this.popup.style,{left:`${o}px`,top:`${n}px`}),this.arrow){let s=i.arrow.x,p=i.arrow.y,d="",f="",u="",h="";if(this.arrowPlacement==="start"){let c=typeof s=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";d=typeof p=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",f=a?c:"",h=a?"":c}else if(this.arrowPlacement==="end"){let c=typeof s=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";f=a?"":c,h=a?c:"",u=typeof p=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(h=typeof s=="number"?"calc(50% - var(--arrow-size-diagonal))":"",d=typeof p=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(h=typeof s=="number"?`${s}px`:"",d=typeof p=="number"?`${p}px`:"");Object.assign(this.arrowEl.style,{top:d,right:f,bottom:u,left:h,[l]:"calc(var(--arrow-size-diagonal) * -1)"})}}),this.emit("sl-reposition")}render(){return et`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <div
        part="popup"
        class=${ct({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?et`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};E.styles=Kt;y([j(".popup")],E.prototype,"popup",2);y([j(".popup__arrow")],E.prototype,"arrowEl",2);y([v()],E.prototype,"anchor",2);y([v({type:Boolean,reflect:!0})],E.prototype,"active",2);y([v({reflect:!0})],E.prototype,"placement",2);y([v({reflect:!0})],E.prototype,"strategy",2);y([v({type:Number})],E.prototype,"distance",2);y([v({type:Number})],E.prototype,"skidding",2);y([v({type:Boolean})],E.prototype,"arrow",2);y([v({attribute:"arrow-placement"})],E.prototype,"arrowPlacement",2);y([v({attribute:"arrow-padding",type:Number})],E.prototype,"arrowPadding",2);y([v({type:Boolean})],E.prototype,"flip",2);y([v({attribute:"flip-fallback-placements",converter:{fromAttribute:t=>t.split(" ").map(e=>e.trim()).filter(e=>e!==""),toAttribute:t=>t.join(" ")}})],E.prototype,"flipFallbackPlacements",2);y([v({attribute:"flip-fallback-strategy"})],E.prototype,"flipFallbackStrategy",2);y([v({type:Object})],E.prototype,"flipBoundary",2);y([v({attribute:"flip-padding",type:Number})],E.prototype,"flipPadding",2);y([v({type:Boolean})],E.prototype,"shift",2);y([v({type:Object})],E.prototype,"shiftBoundary",2);y([v({attribute:"shift-padding",type:Number})],E.prototype,"shiftPadding",2);y([v({attribute:"auto-size"})],E.prototype,"autoSize",2);y([v()],E.prototype,"sync",2);y([v({type:Object})],E.prototype,"autoSizeBoundary",2);y([v({attribute:"auto-size-padding",type:Number})],E.prototype,"autoSizePadding",2);var z=class extends lt{constructor(){super(...arguments),this.localize=new Nt(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.handleKeyDown=t=>{this.open&&t.key==="Escape"&&(t.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=t=>{var e;if(t.key==="Escape"&&this.open){t.stopPropagation(),this.focusOnTrigger(),this.hide();return}if(t.key==="Tab"){if(this.open&&((e=document.activeElement)==null?void 0:e.tagName.toLowerCase())==="sl-menu-item"){t.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var o,n,i;let r=((o=this.containingElement)==null?void 0:o.getRootNode())instanceof ShadowRoot?(i=(n=document.activeElement)==null?void 0:n.shadowRoot)==null?void 0:i.activeElement:document.activeElement;(!this.containingElement||r?.closest(this.containingElement.tagName.toLowerCase())!==this.containingElement)&&this.hide()})}},this.handleDocumentMouseDown=t=>{let e=t.composedPath();this.containingElement&&!e.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=t=>{let e=t.target;!this.stayOpenOnSelect&&e.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){let t=this.trigger.assignedElements({flatten:!0})[0];typeof t?.focus=="function"&&t.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(t=>t.tagName.toLowerCase()==="sl-menu")}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(t){if([" ","Enter"].includes(t.key)){t.preventDefault(),this.handleTriggerClick();return}let e=this.getMenu();if(e){let o=e.getAllItems(),n=o[0],i=o[o.length-1];["ArrowDown","ArrowUp","Home","End"].includes(t.key)&&(t.preventDefault(),this.open||(this.show(),await this.updateComplete),o.length>0&&this.updateComplete.then(()=>{(t.key==="ArrowDown"||t.key==="Home")&&(e.setCurrentItem(n),n.focus()),(t.key==="ArrowUp"||t.key==="End")&&(e.setCurrentItem(i),i.focus())}))}}handleTriggerKeyUp(t){t.key===" "&&t.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){let e=this.trigger.assignedElements({flatten:!0}).find(n=>Vt(n).start),o;if(e){switch(e.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":o=e.button;break;default:o=e}o.setAttribute("aria-haspopup","true"),o.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,xt(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,xt(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){this.panel.addEventListener("sl-select",this.handlePanelSelect),this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown)}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await Pt(this),this.panel.hidden=!1,this.popup.active=!0;let{keyframes:t,options:e}=bt(this,"dropdown.show",{dir:this.localize.dir()});await Et(this.popup.popup,t,e),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await Pt(this);let{keyframes:t,options:e}=bt(this,"dropdown.hide",{dir:this.localize.dir()});await Et(this.popup.popup,t,e),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return et`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${ct({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};z.styles=It;z.dependencies={"sl-popup":E};y([j(".dropdown")],z.prototype,"popup",2);y([j(".dropdown__trigger")],z.prototype,"trigger",2);y([j(".dropdown__panel")],z.prototype,"panel",2);y([v({type:Boolean,reflect:!0})],z.prototype,"open",2);y([v({reflect:!0})],z.prototype,"placement",2);y([v({type:Boolean,reflect:!0})],z.prototype,"disabled",2);y([v({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],z.prototype,"stayOpenOnSelect",2);y([v({attribute:!1})],z.prototype,"containingElement",2);y([v({type:Number})],z.prototype,"distance",2);y([v({type:Number})],z.prototype,"skidding",2);y([v({type:Boolean})],z.prototype,"hoist",2);y([Ht("open",{waitUntilFirstUpdate:!0})],z.prototype,"handleOpenChange",1);vt("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});vt("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});var we=z;z.define("sl-dropdown");export{we as default};
//# sourceMappingURL=/light-pen/pull/11/bridgetown/static/chunks/dropdown-CNDQSQYG.js.map
