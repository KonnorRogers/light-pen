import{k as u}from"/light-pen/pull/9/bridgetown/static/chunks/chunk-OBJ2SGOM.js";var c=/\r\n|\r|\n/;function w(n={}){return function(r){r.tokens=p(r.tokens).map(i=>(i.length<=0&&i.push(" "),new u("light-line",i)))}}function a(n){return Array.isArray(n)?n:[n]}function k(n){return n.length===0?"":n.length===1&&typeof n[0]=="string"?n[0]:n}function p(n){let t=[],r=[t];for(let i=0;i<n.length;i++){let l=n[i];if(typeof l=="string"){let s=l.split(c);for(let e=0;e<s.length;e++){e>0&&r.push(t=[]);let o=s[e];o&&t.push(o)}}else{let s=p(a(l.content));if(s.length>1)for(let e=0;e<s.length;e++){e>0&&r.push(t=[]);let o=s[e];if(o.length){let f=new u(l.type,k(o),l.alias);f.length=o.reduce((h,g)=>h+g.length,0),t.push(f)}}else t.push(l)}}return r}export{w as a};
//# sourceMappingURL=/light-pen/pull/9/bridgetown/static/chunks/chunk-25ATWQNX.js.map
